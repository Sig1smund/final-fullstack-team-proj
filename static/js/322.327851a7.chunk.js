"use strict";(self.webpackChunkfinal_fullstack_team_proj=self.webpackChunkfinal_fullstack_team_proj||[]).push([[322],{351:function(e,t,a){a.d(t,{Z:function(){return m}});var s=a(9439),n=a(2791),r=a(7689),o=a(1087),i=a(8976),c=a(1512),l=a(7834),d={button:"AddPetButton_button__d5mR7",plusIcon:"AddPetButton_plusIcon__QRlb4"},_=a(7609),p=a(3329);function m(){var e=(0,n.useState)(!1),t=(0,s.Z)(e,2),a=t[0],m=t[1],u=(0,l.Z)().isLoggedIn,h=(0,r.s0)(),x=(0,r.TH)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.OL,{to:"/add-pet",state:{from:x},className:d.button,onClick:function(){u?h("/add-pet"):m(!0)},children:["Add Pet",(0,p.jsx)("svg",{className:d.plusIcon,width:24,height:24,children:(0,p.jsx)("use",{href:_.Z+"#logo"})})]}),a&&(0,p.jsx)(i.Z,{isOpen:a,onClose:function(){return m(!1)},children:(0,p.jsx)(c.Z,{})})]})}},1512:function(e,t,a){a.d(t,{Z:function(){return i}});var s=a(1087),n={container:"AttentionModal_container__wyVg3",title:"AttentionModal_title__ehV77",subtitle:"AttentionModal_subtitle__b8n+z",buttons:"AttentionModal_buttons__eo2K0",loginBtn:"AttentionModal_loginBtn__M0PaQ global_desktopButtonWhite__yg5Te global_shadow__ECSSe",icon:"AttentionModal_icon__Uc3Dw",registerBtn:"AttentionModal_registerBtn__EjiH8 global_desktopButtonWhite__yg5Te global_shadow__ECSSe"},r=a(7609),o=a(3329);function i(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:n.container,children:[(0,o.jsx)("p",{className:n.title,children:"Attention"}),(0,o.jsx)("p",{className:n.subtitle,children:"We would like to remind you that certain functionality is available only to authorized users.If you have an account, please log in with your credentials. If you do not already have an account, you must register to access these features."}),(0,o.jsxs)("div",{className:n.buttons,children:[(0,o.jsxs)(s.OL,{className:n.loginBtn,to:"/login",children:["Login",(0,o.jsx)("svg",{className:n.icon,width:24,height:24,children:(0,o.jsx)("use",{href:r.Z+"#pawprint-1"})})]}),(0,o.jsx)(s.OL,{className:n.registerBtn,to:"/register",children:"Register"})]})]})})}},8976:function(e,t,a){a.d(t,{Z:function(){return s.Z}});var s=a(5829)},2322:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var s=a(9439),n=a(2791),r=a(9434),o={container:"UserPage_container__qulzD",userContainer:"UserPage_userContainer__JJojP",title:"UserPage_title__CPvgT",iconEditButton:"UserPage_iconEditButton__8gUsY",iconEdit:"UserPage_iconEdit__qHQrI",iconCross:"UserPage_iconCross__1Qp+U",bg:"UserPage_bg__-KDn7"},i=a(7609);var c=a.p+"static/media/cross-small.f651fc886fa4d31a3c8de6c31d316c5d.svg",l=a(1413),d=a(5861),_=a(4687),p=a.n(_),m=a(9273),u={userCard:"UserForm_userCard__uNoO8 global_shadow__ECSSe",form:"UserForm_form__Rtz4A",userInfoWrapper:"UserForm_userInfoWrapper__F+hWD",inputWrapper:"UserForm_inputWrapper__DeOXH",inputTitle:"UserForm_inputTitle__5iXcX",input:"UserForm_input__qGgJS",LogOutBtn:"UserForm_LogOutBtn__fpCNn",iconLogOut:"UserForm_iconLogOut__rTwlR",avatarWrapper:"UserForm_avatarWrapper__SMEM8",avatar:"UserForm_avatar__Uh3mB",photoWrapper:"UserForm_photoWrapper__RnWw8",editPhotoContainer:"UserForm_editPhotoContainer__tfOMD",iconWrapperCheck:"UserForm_iconWrapperCheck__+A5TU",iconWrapperCross:"UserForm_iconWrapperCross__6TA+y",cameraIcon:"UserForm_cameraIcon__UuUAh",btnEdit:"UserForm_btnEdit__Wsx6+",avatarWrapperRead:"UserForm_avatarWrapperRead__xHx-x",avatarReadonlyON:"UserForm_avatarReadonlyON__fViiL",btnDual:"UserForm_btnDual__CZLPH",btnConfirm:"UserForm_btnConfirm__15T9l",iconCheck:"UserForm_iconCheck__ZC3sK",iconCross:"UserForm_iconCross__0lJoC",iconCamera:"UserForm_iconCamera__ChUw+",saveBtn:"UserForm_saveBtn__qr0j0",saveBtnWrapper:"UserForm_saveBtnWrapper__Nq-es",infoWrapper:"UserForm_infoWrapper__N19OM"};var h=a.p+"static/media/Photo default.2c9afb5dfcbe695b9150f927616a01aa.svg";var x=a.p+"static/media/logout.8790af7bde245471313fc2a3bdb4b2da.svg";var f=a.p+"static/media/x.5dd3f0eff02fbbdf8c42d6a6e00740b9.svg";var g=a.p+"static/media/check.9871830bc0257fd7ceaaf4c5ddc7ce47.svg",j=a(5829),v=a(6056),N=a(9085),b=a(5705),C=a(8007),y=a(3329),I=C.Ry().shape({name:C.Z_().min(2,"Too Short!").max(16,"Too Long!").required("*"),email:C.Z_().matches(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,"Incorrect name format").min(2,"Too Short!").max(255).required(),birthday:C.Z_().matches(/^(0[1-9]|[12][0-9]|3[01])\-(0[1-9]|1[0-2])\-\d{4}$/,"Incorrect date format").required(),phone:C.Z_().matches(/^\+\d{12}$/,"Incorrect phone format").required(),city:C.Z_().matches(/^[a-zA-Z\u0080-\u024F]+(?:([\\ \\-\\']|(\\.\\ ))[a-zA-Z\u0080-\u024F]+)*$/,"Incorrect city format").required()});function P(e){var t=e.onSubmit,a=e.readonly,o=e.user,c=(e.saveNewPhoto,{name:o.name,email:o.email,birthday:o.birthday,phone:o.phone,city:o.city,avatarFile:""}),_=(0,n.useState)(o||c),C=(0,s.Z)(_,2),P=C[0],W=C[1],B=(0,n.useState)(o.avatarURL||""),U=(0,s.Z)(B,2),F=U[0],Z=U[1],w=(0,n.useState)(""),L=(0,s.Z)(w,2),k=L[0],T=L[1],S=(0,n.useState)(!1),O=(0,s.Z)(S,2),A=O[0],D=O[1],M=(0,r.I0)(),E=function(){D(!1)},R=function(){var e=(0,d.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M((0,m.ni)());case 2:D(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=(0,n.useRef)();return(0,y.jsx)("div",{className:u.userCard,children:(0,y.jsx)(b.J9,{initialValues:c,validationSchema:I,onSubmit:function(e){console.log("values",e);var a=e.name,s=e.email,n=e.phone,r=e.birthday,o=e.city,i=new FormData;i.append("avatarURL",k),i.append("name",a),i.append("email",s),i.append("phone",n),i.append("birthday",r),i.append("city",o),console.log("FormData",i),console.log("FD",k),t(i)},submitButton:{label:"Save",style:{backgroundColor:"var(--blue-color)"}},children:(0,y.jsx)(b.l0,{autoComplete:"off",className:u.form,children:(0,y.jsxs)("div",{className:u.userInfoWrapper,children:[(0,y.jsxs)("div",{className:u.avatarWrapper,children:[F?(0,y.jsx)("img",{src:F,className:[u.avatar,a?u.avatarReadonlyON:""].join(" "),alt:"profile"}):(0,y.jsx)("img",{src:h,className:[u.avatar,a?u.avatarReadonlyON:""].join(" "),alt:"avatar"}),(0,y.jsx)("input",{type:"file",accept:"image/*, .png, .jpg, .gif, .web",ref:q,onChange:function(e){var t=e.target.files[0];if(t.size>3145728)(0,N.Am)("Wrong size");else{var a=URL.createObjectURL(t);Z(a),T(t)}},style:{display:"none"}}),!a&&(F?(0,y.jsxs)("div",{className:u.btnDual,children:[(0,y.jsx)("button",{type:"button",className:u.btnConfirm,onClick:function(){W((function(e){return(0,l.Z)((0,l.Z)({},e),{},{avatarFile:k})})),console.log("stateonLoad",P)},children:(0,y.jsx)("img",{src:g,className:u.iconCheck,alt:"check"})}),(0,y.jsx)("p",{children:"Confirm"}),(0,y.jsx)("button",{type:"button",onClick:function(){Z(""),T("")},className:u.btnConfirm,children:(0,y.jsx)("img",{src:f,className:u.iconCross,alt:"cross"})})]}):(0,y.jsxs)("button",{type:"button",className:u.btnEdit,onClick:function(){q.current.click()},children:[(0,y.jsx)("svg",{width:"24px",height:"24px",className:u.iconCamera,children:(0,y.jsx)("use",{href:i.Z+"#camera"})}),"Edit photo"]}))]}),(0,y.jsxs)("div",{className:u.userInfo,children:[(0,y.jsxs)("div",{className:u.infoWrapper,children:[(0,y.jsxs)("div",{className:u.inputWrapper,children:[(0,y.jsx)("p",{className:u.inputTitle,children:"Name:"}),(0,y.jsx)(b.gN,{type:"text",name:"name",className:u.input,readOnly:a}),(0,y.jsx)(b.Bc,{className:u.error,name:"name"})]}),(0,y.jsxs)("div",{className:u.inputWrapper,children:[(0,y.jsx)("p",{className:u.inputTitle,children:"Email:"}),(0,y.jsx)(b.gN,{type:"email",name:"email",className:u.input,readOnly:a}),(0,y.jsx)(b.Bc,{className:u.error,name:"email"})]}),(0,y.jsxs)("div",{className:u.inputWrapper,children:[(0,y.jsx)("p",{className:u.inputTitle,children:"Birthday:"}),(0,y.jsx)(b.gN,{type:"text",name:"birthday",className:u.input,placeholder:"00.00.0000",readOnly:a}),(0,y.jsx)(b.Bc,{className:u.error,name:"birthday"})]}),(0,y.jsxs)("div",{className:u.inputWrapper,children:[(0,y.jsx)("p",{className:u.inputTitle,children:"Phone:"}),(0,y.jsx)(b.gN,{type:"tel",name:"phone",className:u.input,placeholder:"+380000000000",readOnly:a}),(0,y.jsx)(b.Bc,{className:u.error,name:"phone"})]}),(0,y.jsxs)("div",{className:u.inputWrapper,children:[(0,y.jsx)("p",{className:u.inputTitle,children:"City:"}),(0,y.jsx)(b.gN,{type:"text",name:"city",className:u.input,placeholder:"Kiev",readOnly:a}),(0,y.jsx)(b.Bc,{className:u.error,name:"city"})]})]}),a?(0,y.jsxs)("button",{type:"button",className:u.LogOutBtn,onClick:function(){D(!0)},children:[(0,y.jsx)("img",{src:x,className:u.iconLogOut,alt:"logout"}),"Log Out"]}):(0,y.jsx)("div",{className:u.saveBtnWrapper,children:(0,y.jsx)("button",{className:u.saveBtn,children:"Save"})}),A&&(0,y.jsx)(j.Z,{isOpen:A,onClose:E,children:(0,y.jsx)(v.Z,{logo:"#logout",close:E,action:R,children:"Already leaving?"})})]})]})})})})}var W={petsList:"PetList_petsList__bl+kb",imgNoPet:"PetList_imgNoPet__GMiLo",noPetsWrapper:"PetList_noPetsWrapper__1pzId"},B={petsItemWrapper:"PetsItem_petsItemWrapper__atzbH global_shadow__ECSSe",petInfoWrapper:"PetsItem_petInfoWrapper__O8o7Y",petsImg:"PetsItem_petsImg__xU3HT",petInfo:"PetsItem_petInfo__7HhIE",petInfoBtn:"PetsItem_petInfoBtn__-r3Lk",btnTrash:"PetsItem_btnTrash__MA55j",info:"PetsItem_info__02lDb",modalTitle:"PetsItem_modalTitle__6AhKg",modalText:"PetsItem_modalText__qPuWH"};function U(e){var t=e.pet,a=(0,n.useState)(!1),o=(0,s.Z)(a,2),c=o[0],l=o[1],d=(0,r.I0)(),_=function(){l(!0)},p=function(){l(!1)};return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("li",{className:B.petsItemWrapper,children:[(0,y.jsx)("img",{src:t.imageURL,alt:t.name,className:B.petsImg}),(0,y.jsxs)("div",{className:B.petInfoWrapper,children:[(0,y.jsxs)("div",{className:B.petInfoBtn,children:[" Name: ",t.name,(0,y.jsx)("button",{type:"button",onClick:_,className:B.btnTrash,children:(0,y.jsx)("svg",{width:"24",height:"24",children:(0,y.jsx)("use",{href:i.Z+"#trash-2"})})})]}),(0,y.jsxs)("p",{className:B.petInfo,children:["Date of birth: ",t.date]}),(0,y.jsxs)("p",{className:B.petInfo,children:["Type: ",t.type]}),(0,y.jsxs)("p",{className:B.petInfo,children:["Comments: ",t.comments]})]}),c&&(0,y.jsx)(j.Z,{isOpen:_,onClose:p,children:(0,y.jsx)(v.Z,{close:p,id:t._id,action:function(e){d((0,m.on)(e)),l(!1)},logo:"#trash-2",children:(0,y.jsxs)("div",{className:B.modalText,children:[(0,y.jsxs)("div",{className:B.modalTitle,children:[(0,y.jsx)("div",{children:"Delete"})," ",(0,y.jsx)("div",{children:"adverstiment?"})," "]}),"Are you sure you want to delete ",(0,y.jsxs)("b",{children:["\u201c",t.name,"\u201d"]}),"?",(0,y.jsx)("br",{}),"You can`t undo this action."]})})})]},t._id)})}var F=a(9604),Z=a(4217);function w(){var e=(0,r.v9)(Z.MF);return(0,y.jsx)(y.Fragment,{children:e.length<=0?(0,y.jsxs)("div",{className:W.noPetsWrapper,children:[(0,y.jsx)("p",{children:"No pets in your list"}),(0,y.jsx)("img",{src:F,alt:"sad cat",className:W.imgNoPet})]}):(0,y.jsx)("div",{children:(0,y.jsx)("ul",{className:W.petsList,children:e.map((function(e){return(0,y.jsx)(U,{pet:e},e._id)}))})})})}var L={petsListWrapper:"PetsData_petsListWrapper__+sxfq",title:"PetsData_title__c2IAB",addPetsButton_container:"PetsData_addPetsButton_container__8rzL8",addPetsButton:"PetsData_addPetsButton__CZvHI",plusIcon:"PetsData_plusIcon__OaSBD",container:"PetsData_container__iIH-x",petsContainer:"PetsData_petsContainer__rRZxX"},k=a(351);function T(){return(0,y.jsxs)("div",{className:L.petsListWrapper,children:[(0,y.jsxs)("div",{className:L.petsContainer,children:[(0,y.jsx)("h2",{className:L.title,children:"My pets:"}),(0,y.jsx)("div",{className:L.addPetsButton_container,children:(0,y.jsx)(k.Z,{})})]}),(0,y.jsx)(w,{})]})}var S={container:"ModalCongrats_container__imJVN",title:"ModalCongrats_title__2iwph",subtitle:"ModalCongrats_subtitle__dxeLz",goToProfileBtn:"ModalCongrats_goToProfileBtn__tIUiP global_desktopButtonBlue__4lkQ4 global_desktopButtonWhite__yg5Te global_shadow__ECSSe global_shadow__ECSSe",logo:"ModalCongrats_logo__WjwdV"};function O(e){var t=e.onClose;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:S.container,children:[(0,y.jsx)("p",{className:S.title,children:"Congrats!"}),(0,y.jsx)("p",{className:S.subtitle,children:"Your registration is success"}),(0,y.jsxs)("button",{type:"button",className:S.goToProfileBtn,onClick:function(){t()},children:["Go to profile",(0,y.jsx)("svg",{className:S.logo,width:"24",height:"24",children:(0,y.jsx)("use",{href:i.Z+"#pawprint-1"})})]})]})})}var A=a(3541);function D(){var e=(0,n.useState)(!0),t=(0,s.Z)(e,2),a=t[0],l=t[1],d=(0,r.v9)(Z.dy),_=(0,r.I0)(),p=function(){l((function(e){return!e}))},u=(0,r.v9)(Z.fX),h=(0,n.useState)(u),x=(0,s.Z)(h,2),f=x[0],g=x[1];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:o.bg,children:(0,y.jsxs)("div",{className:o.container,children:[(0,y.jsxs)("div",{className:o.userContainer,children:[(0,y.jsx)("h2",{className:o.title,children:"My information:"}),a?(0,y.jsx)("button",{className:o.iconEditButton,onClick:p,children:(0,y.jsx)("svg",{width:"24",height:"24",className:o.iconEdit,children:(0,y.jsx)("use",{href:i.Z+"#edit-2"})})}):(0,y.jsx)("button",{className:o.iconEditButton,onClick:p,children:(0,y.jsx)("img",{src:c,alt:"cross icon",className:o.iconCross})}),a?(0,y.jsx)(P,{readonly:!0,user:d}):(0,y.jsx)(P,{readonly:!1,user:d,onSubmit:function(e){_((0,m.Nq)(e)),p(),console.log(e)}})]}),(0,y.jsx)(T,{})]})}),u&&(0,y.jsx)(j.Z,{isOpen:f,onClose:function(){g(!1)},children:(0,y.jsx)(O,{onClose:function(){g(!1),_((0,A.m)(!1))}})})]})}},9604:function(e,t,a){e.exports=a.p+"static/media/WBC_sad_1.1cdd451a59d80ee82d45.jpg"}}]);
//# sourceMappingURL=322.327851a7.chunk.js.map