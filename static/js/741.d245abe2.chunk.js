"use strict";(self.webpackChunkfinal_fullstack_team_proj=self.webpackChunkfinal_fullstack_team_proj||[]).push([[741],{5661:function(e,a,s){s.r(a),s.d(a,{default:function(){return E}});var t=s(9439),n=s(2791),r=s(9434),i={container:"UserPage_container__qulzD",userContainer:"UserPage_userContainer__JJojP",title:"UserPage_title__CPvgT",iconEditButton:"UserPage_iconEditButton__8gUsY",iconEdit:"UserPage_iconEdit__qHQrI",iconCross:"UserPage_iconCross__1Qp+U",bg:"UserPage_bg__-KDn7"},o=s(7609),c=s(4942),l=s(1413),p=s(9273),d={userCard:"UserForm_userCard__uNoO8 global_shadow__ECSSe",form:"UserForm_form__Rtz4A",userInfoWrapper:"UserForm_userInfoWrapper__F+hWD",inputWrapper:"UserForm_inputWrapper__DeOXH",inputTitle:"UserForm_inputTitle__5iXcX",input:"UserForm_input__qGgJS",LogOutBtn:"UserForm_LogOutBtn__fpCNn",iconLogOut:"UserForm_iconLogOut__rTwlR",avatarWrapper:"UserForm_avatarWrapper__SMEM8",avatar:"UserForm_avatar__Uh3mB",photoWrapper:"UserForm_photoWrapper__RnWw8",editPhotoContainer:"UserForm_editPhotoContainer__tfOMD",iconWrapperCheck:"UserForm_iconWrapperCheck__+A5TU",iconWrapperCross:"UserForm_iconWrapperCross__6TA+y",cameraIcon:"UserForm_cameraIcon__UuUAh",btnEdit:"UserForm_btnEdit__Wsx6+",avatarWrapperRead:"UserForm_avatarWrapperRead__xHx-x",avatarReadonlyON:"UserForm_avatarReadonlyON__fViiL",btnDual:"UserForm_btnDual__CZLPH",btnConfirm:"UserForm_btnConfirm__15T9l",iconCheck:"UserForm_iconCheck__ZC3sK",iconCross:"UserForm_iconCross__0lJoC",iconCamera:"UserForm_iconCamera__ChUw+",saveBtn:"UserForm_saveBtn__qr0j0",saveBtnWrapper:"UserForm_saveBtnWrapper__Nq-es",infoWrapper:"UserForm_infoWrapper__N19OM"};var m=s.p+"static/media/Photo default.2c9afb5dfcbe695b9150f927616a01aa.svg";var _=s.p+"static/media/logout.8790af7bde245471313fc2a3bdb4b2da.svg";var u=s.p+"static/media/x.5dd3f0eff02fbbdf8c42d6a6e00740b9.svg";var h=s.p+"static/media/check.9871830bc0257fd7ceaaf4c5ddc7ce47.svg",f=s(3329),x={name:"",email:"",birthday:"",phone:"",city:""};function g(e){var a=e.onSubmit,s=e.readonly,i=e.user,g=e.saveNewPhoto,v=(0,n.useState)(i||x),j=(0,t.Z)(v,2),N=j[0],b=j[1],C=(0,n.useState)(i.avatarURL||""),y=(0,t.Z)(C,2),U=y[0],W=y[1],I=(0,r.I0)(),P=function(e){var a=e.target,s=a.name,t=a.value;b((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,c.Z)({},s,t))}))},F=(0,n.useRef)();return(0,f.jsx)("div",{className:d.userCard,children:(0,f.jsx)("form",{className:d.form,onSubmit:function(e){e.preventDefault();var s=N.name,t=N.email,n=N.phone,r=N.birthday,i=N.city;console.log("state",N);var o=new FormData;o.append("avatarURL",U),o.append("name",s),o.append("email",t),o.append("phone",n),o.append("birthday",r),o.append("city",i),console.log("FormData",o),a(o)},children:(0,f.jsxs)("div",{className:d.userInfoWrapper,children:[(0,f.jsxs)("div",{className:d.avatarWrapper,children:[U?(0,f.jsx)("img",{src:U,className:[d.avatar,s?d.avatarReadonlyON:""].join(" "),alt:"profile"}):(0,f.jsx)("img",{src:m,className:[d.avatar,s?d.avatarReadonlyON:""].join(" "),alt:"avatar"}),(0,f.jsx)("input",{type:"file",accept:"image/*, .png, .jpg, .gif, .web",ref:F,onChange:function(e){var a=e.target.files[0];if(a.size>3145728)alert("Wrong size");else{var s=URL.createObjectURL(a);console.log("newAvatar"),W(s)}},style:{display:"none"}}),!s&&(U?(0,f.jsxs)("div",{className:d.btnDual,children:[(0,f.jsx)("button",{type:"button",className:d.btnConfirm,onClick:function(){g(U)},children:(0,f.jsx)("img",{src:h,className:d.iconCheck,alt:"check"})}),(0,f.jsx)("span",{children:"Confirm"}),(0,f.jsx)("button",{type:"button",onClick:function(){W(null)},className:d.btnConfirm,children:(0,f.jsx)("img",{src:u,className:d.iconCross,alt:"cross"})})]}):(0,f.jsxs)("button",{type:"button",className:d.btnEdit,onClick:function(){F.current.click()},children:[(0,f.jsx)("svg",{width:"24px",height:"24px",className:d.iconCamera,children:(0,f.jsx)("use",{href:o.Z+"#camera"})}),"Edit photo"]}))]}),(0,f.jsxs)("div",{className:d.userInfo,children:[(0,f.jsxs)("div",{className:d.infoWrapper,children:[(0,f.jsxs)("div",{className:d.inputWrapper,children:[(0,f.jsx)("p",{className:d.inputTitle,children:"Name:"}),(0,f.jsx)("input",{type:"text",name:"name",value:N.name,required:!0,className:d.input,onChange:P,readOnly:s})]}),(0,f.jsxs)("div",{className:d.inputWrapper,children:[(0,f.jsx)("p",{className:d.inputTitle,children:"Email:"}),(0,f.jsx)("input",{type:"email",value:N.email,name:"email",required:!0,className:d.input,onChange:P,readOnly:s})]}),(0,f.jsxs)("div",{className:d.inputWrapper,children:[(0,f.jsx)("p",{className:d.inputTitle,children:"Birthday:"}),(0,f.jsx)("input",{type:"text",value:N.birthday,name:"birthday",required:!0,className:d.input,placeholder:"00.00.0000",pattern:"/^\\d{1,2}\\-\\d{1,2}\\-\\d{4}$/",onChange:P,readOnly:s})]}),(0,f.jsxs)("div",{className:d.inputWrapper,children:[(0,f.jsx)("p",{className:d.inputTitle,children:"Phone:"}),(0,f.jsx)("input",{type:"tel",value:N.phone,name:"phone",className:d.input,placeholder:"+380000000000",pattern:"/^\\+\\d{12}$/\\",onChange:P,readOnly:s})]}),(0,f.jsxs)("div",{className:d.inputWrapper,children:[(0,f.jsx)("p",{className:d.inputTitle,children:"City:"}),(0,f.jsx)("input",{type:"text",value:N.city,name:"city",required:!0,className:d.input,placeholder:"Kiev",onChange:P,readOnly:s})]})]}),s?(0,f.jsxs)("button",{type:"button",className:d.LogOutBtn,onClick:function(){return I((0,p.ni)())},children:[(0,f.jsx)("img",{src:_,className:d.iconLogOut,alt:"logout"}),"Log Out"]}):(0,f.jsx)("div",{className:d.saveBtnWrapper,children:(0,f.jsx)("button",{className:d.saveBtn,children:"Save"})})]})]})})})}var v=s.p+"static/media/cross-small.f651fc886fa4d31a3c8de6c31d316c5d.svg",j=s(4217),N=s(5149),b={container:"ModalCongrats_container__imJVN",title:"ModalCongrats_title__2iwph",subtitle:"ModalCongrats_subtitle__dxeLz",goToProfileBtn:"ModalCongrats_goToProfileBtn__tIUiP global_desktopButtonBlue__4lkQ4 global_desktopButtonWhite__yg5Te global_shadow__ECSSe global_shadow__ECSSe"},C=s(7689);function y(e){var a=e.onClose,s=(0,C.s0)();return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:b.container,children:[(0,f.jsx)("p",{className:b.title,children:"Congrats!"}),(0,f.jsx)("p",{className:b.subtitle,children:"Youre registration is success"}),(0,f.jsxs)("button",{type:"button",className:b.goToProfileBtn,onClick:function(){a(),s("/user")},children:["Go to profile",(0,f.jsx)("svg",{className:b.logo,width:"24",height:"24",children:(0,f.jsx)("use",{href:o.Z+"#pawprint-1"})})]})]})})}var U={petsList:"PetList_petsList__bl+kb",imgNoPet:"PetList_imgNoPet__GMiLo",noPetsWrapper:"PetList_noPetsWrapper__1pzId"},W=s(5861),I=s(7757),P=s.n(I),F={petsItemWrapper:"PetsItem_petsItemWrapper__atzbH global_shadow__ECSSe",petInfoWrapper:"PetsItem_petInfoWrapper__O8o7Y",petsImg:"PetsItem_petsImg__xU3HT",petInfo:"PetsItem_petInfo__7HhIE",petInfoBtn:"PetsItem_petInfoBtn__-r3Lk",btnTrash:"PetsItem_btnTrash__MA55j",info:"PetsItem_info__02lDb"},k=s(6056);function L(){var e=(0,r.v9)(j.MF),a=(0,n.useState)(!1),s=(0,t.Z)(a,2),i=s[0],c=s[1],l=(0,r.I0)();(0,n.useEffect)((function(){l((0,p.Vk)())}),[l]);var d=function(){c(!0)},m=function(){c(!1)},_=function(){var e=(0,W.Z)(P().mark((function e(a){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l((0,p.on)(a));case 2:console.log(a),c(!1);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,f.jsxs)(f.Fragment,{children:[e.map((function(e){return(0,f.jsxs)("li",{className:F.petsItemWrapper,children:[(0,f.jsx)("img",{src:e.imageURL,alt:e.name,className:F.petsImg}),(0,f.jsxs)("div",{className:F.petInfoWrapper,children:[(0,f.jsxs)("div",{className:F.petInfoBtn,children:[" Name: ",e.name,(0,f.jsx)("button",{type:"button",onClick:function(){return l((0,p.on)(e._id))},className:F.btnTrash,children:(0,f.jsx)("svg",{width:"24",height:"24",children:(0,f.jsx)("use",{href:o.Z+"#trash-2"})})}),i&&(0,f.jsx)(N.Z,{isOpen:d,onClose:m,children:(0,f.jsx)(k.Z,{close:m,action:_(e._id),children:"Are you sure you want to delete  \u201cCute dog looking for a home\u201d? You can`t undo this action."})})]}),(0,f.jsxs)("p",{className:F.petInfo,children:["Date of birth: ",e.date]}),(0,f.jsxs)("p",{className:F.petInfo,children:["Type: ",e.type]}),(0,f.jsxs)("p",{className:F.petInfo,children:["Comments: ",e.comments]})]})]},e._id)})),(0,f.jsx)("div",{className:F.petsListWrapper})]})}var B=s.p+"static/media/WBC_sad_1.1cdd451a59d80ee82d45.jpg";function w(){var e=(0,r.v9)(j.MF)||[];return(0,f.jsx)(f.Fragment,{children:e.length<=0?(0,f.jsxs)("div",{className:U.noPetsWrapper,children:[(0,f.jsx)("p",{children:"No pets in your list"}),(0,f.jsx)("img",{src:B,alt:"sad cat",className:U.imgNoPet})]}):(0,f.jsx)("div",{children:(0,f.jsx)("ul",{className:U.petsList,children:(0,f.jsx)(L,{})})})})}var O={petsListWrapper:"PetsData_petsListWrapper__+sxfq",title:"PetsData_title__c2IAB"};function T(){return(0,f.jsxs)("div",{className:O.petsListWrapper,children:[(0,f.jsx)("h2",{className:O.title,children:"My pets:"}),(0,f.jsx)(w,{})]})}function E(){var e=(0,n.useState)(!0),a=(0,t.Z)(e,2),s=a[0],c=a[1],l=(0,r.v9)(j.dy);console.log(l);var d=(0,r.I0)(),m=function(){c((function(e){return!e}))},_=(0,r.v9)(j.fX),u=(0,n.useState)(_),h=(0,t.Z)(u,2),x=h[0],b=h[1],C=function(){b(!x),d((0,p.Q3)(!1))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:i.bg,children:(0,f.jsxs)("div",{className:i.container,children:[(0,f.jsxs)("div",{className:i.userContainer,children:[(0,f.jsx)("h2",{className:i.title,children:"My information:"}),s?(0,f.jsx)("button",{className:i.iconEditButton,onClick:m,children:(0,f.jsx)("svg",{width:"24",height:"24",className:i.iconEdit,children:(0,f.jsx)("use",{href:o.Z+"#edit-2"})})}):(0,f.jsx)("button",{className:i.iconEditButton,onClick:m,children:(0,f.jsx)("img",{src:v,alt:"cross icon",className:i.iconCross})}),s?(0,f.jsx)(g,{readonly:!0,user:l}):(0,f.jsx)(g,{readonly:!1,user:l,saveNewPhoto:function(e){console.log(e),(new FormData).append("userAvatar",e)},onSubmit:function(e){d((0,p.Nq)(e)),m(),console.log(e)}})]}),(0,f.jsx)(T,{})]})}),x&&(0,f.jsx)(N.Z,{isOpen:x,onClose:C,children:(0,f.jsx)(y,{onClose:C})})]})}}}]);
//# sourceMappingURL=741.d245abe2.chunk.js.map