"use strict";(self.webpackChunkfinal_fullstack_team_proj=self.webpackChunkfinal_fullstack_team_proj||[]).push([[58],{2058:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var s=n(9439),o=n(7689),a=n(2791),i=n(9434),r=n(4066),c=n(7834),l={form:"noticesSearch_form__tvBj8 global_shadow__ECSSe",button:"noticesSearch_button__ff2AQ",iconSearch:"noticesSearch_iconSearch__NQu4Q",iconClose:"noticesSearch_iconClose__qQyFG",input:"noticesSearch_input__ujHU9"},_=n(7609),d=n(3329);function u(){var e=(0,a.useState)(""),t=(0,s.Z)(e,2),n=t[0],c=t[1],u=(0,o.UO)().categoryName,h=(0,i.I0)(),m={categoryName:u,query:n};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{className:l.form,onSubmit:function(e){e.preventDefault(),h((0,r.r7)(m)),c("")},children:[(0,d.jsx)("input",{className:l.input,onChange:function(e){return c(e.currentTarget.value)},value:n,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search"}),(0,d.jsx)("button",{type:"submit",className:l.button,children:(0,d.jsx)("svg",{width:"24px",height:"24px",className:l.iconSearch,children:(0,d.jsx)("use",{href:_.Z+"#search"})})}),""!==n&&(0,d.jsx)("button",{type:"button",className:l.button,onClick:function(){c("")},children:(0,d.jsx)("svg",{className:l.iconClose,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,d.jsx)("path",{d:"M19 5L5 19M5.00004 5L19 19",stroke:"#FFC107",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}var h=n(1087),m=n(4717),g={button:"NoticesCategoriesNav_button__RYmil global_lostAndFoundButton__5arGq",active:"NoticesCategoriesNav_active__t5djC",container:"NoticesCategoriesNav_container__Z62eL"};function f(){var e=(0,o.TH)(),t=(0,m.Z)().isLoggedIn;return(0,d.jsxs)("nav",{className:g.container,children:[(0,d.jsx)(h.OL,{className:"/notices/sell"===e.pathname?[g.button,g.active].join(" "):g.button,to:"/notices/sell",children:"sell"}),(0,d.jsx)(h.OL,{className:"/notices/lost-found"===e.pathname?[g.button,g.active].join(" "):g.button,to:"/notices/lost-found",children:"lost/found"}),(0,d.jsx)(h.OL,{className:"/notices/in-good-hands"===e.pathname?[g.button,g.active].join(" "):g.button,to:"/notices/in-good-hands",children:"in-good-hands"}),t&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.OL,{className:"/notices/favorite"===e.pathname?[g.button,g.active].join(" "):g.button,to:"/notices/favorite",children:"favorite ads"}),(0,d.jsx)(h.OL,{className:"/notices/own"===e.pathname?[g.button,g.active].join(" "):g.button,to:"/notices/own",children:"my ads"})]})]})}function v(){return(0,d.jsx)(d.Fragment,{})}var j={container:"NoticeCategoryItem_container__WGJQ5",wrapper:"NoticeCategoryItem_wrapper__FBXOm",pet_img:"NoticeCategoryItem_pet_img__FHf7I",category:"NoticeCategoryItem_category__1jJaa",fav_btn:"NoticeCategoryItem_fav_btn__8tU2Y",trash_btn:"NoticeCategoryItem_trash_btn__+4myF",infav_btn:"NoticeCategoryItem_infav_btn__NSvHo",info_container:"NoticeCategoryItem_info_container__dExE8",info_item:"NoticeCategoryItem_info_item__x1JqN",svg_info:"NoticeCategoryItem_svg_info__4yFHJ",bottom_container:"NoticeCategoryItem_bottom_container__-dfcO",title:"NoticeCategoryItem_title__WTTHR",learn_btn:"NoticeCategoryItem_learn_btn__c2BbC",learn_svg:"NoticeCategoryItem_learn_svg__DepQq"},N=function(e){var t=e.split("-"),n=(0,s.Z)(t,3),o=n[0],a=n[1],i=n[2],r=parseInt(a,10)-1,c=new Date(i,r,o),l=(new Date-c)/315576e5;return Math.floor(l)},x=function(e){return e.length>5?e.slice(0,4)+"...":e},p=n(5829);function b(){return(0,d.jsx)(d.Fragment,{})}function C(e){var t=e.item,n=e.favHandler,l=(0,a.useState)(!1),u=(0,s.Z)(l,2),h=u[0],m=u[1],g=t._id,f=t.category,v=t.title,C=t.name,y=t.date,w=t.imageURL,I=t.sex,L=t.location,k=t.owner,S=N(y),Z=x(L),F=(0,i.I0)(),P=(0,c.Z)(),O=P.user,B=P.isLoggedIn,H=(0,o.UO)().categoryName,A=function(){if(B)return O.favorite.includes(g)},U=k._id===O.id;return(0,d.jsxs)("li",{className:j.container,children:[(0,d.jsxs)("div",{className:j.wrapper,children:[(0,d.jsx)("img",{className:j.pet_img,src:w,alt:C,width:"300"}),(0,d.jsx)("div",{className:j.category,children:(0,d.jsx)("p",{children:f})}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{className:[j.fav_btn,A()&&[j.fav_btn]].join(" "),type:"button",onClick:function(){return n(g)},children:(0,d.jsx)("svg",{className:j.heart,width:"24",height:"24",children:(0,d.jsx)("use",{href:_.Z+"#heart"})})})}),B&&"own"===H&&U&&(0,d.jsx)("div",{children:(0,d.jsx)("button",{className:j.trash_btn,type:"button",onClick:function(){return e=g,void(B&&F((0,r.gu)(e)));var e},children:(0,d.jsx)("svg",{className:j.trash,width:"24",height:"24",children:(0,d.jsx)("use",{href:_.Z+"#trash-2"})})})}),(0,d.jsxs)("div",{className:j.info_container,children:[(0,d.jsxs)("div",{className:j.info_item,children:[(0,d.jsx)("svg",{className:j.svg_info,width:"24",height:"24",children:(0,d.jsx)("use",{href:_.Z+"#location-1"})}),(0,d.jsx)("p",{children:Z})]}),(0,d.jsxs)("div",{className:j.info_item,children:[(0,d.jsx)("svg",{className:j.svg_info,width:"24",height:"24",children:(0,d.jsx)("use",{href:_.Z+"#clock"})}),(0,d.jsxs)("p",{children:[S<1&&"<1 ".concat("min_year"," "),1===S&&"1 ".concat("year"),S>1&&"".concat(S," ","years")]})]}),(0,d.jsxs)("div",{className:j.info_item,children:[(0,d.jsx)("svg",{className:j.svg_info,width:"24",height:"24",children:(0,d.jsx)("use",{href:"male"===I?_.Z+"#male":_.Z+"#female"})}),(0,d.jsx)("p",{children:I})]})]})]}),(0,d.jsxs)("div",{className:j.bottom_container,children:[(0,d.jsx)("h2",{className:j.title,children:v}),h&&(0,d.jsx)(p.Z,{isOpen:h,onClose:function(){return m(!1)},children:(0,d.jsx)(b,{id:g,isFavorite:function(){return A()},handler:n})}),(0,d.jsxs)("button",{className:j.learn_btn,type:"button",onClick:function(){return m(h)},children:["Learn More",(0,d.jsx)("svg",{className:j.learn_svg,width:"24",height:"24",children:(0,d.jsx)("use",{href:_.Z+"#pawprint-1"})})]})]})]})}var y=function(e){return e.notices.notices};var w=n(9604),I={list:"NoticesCategoriesList_list__TSyA3",imgNoPet:"NoticesCategoriesList_imgNoPet__KAP8c",noPetsWrapper:"NoticesCategoriesList_noPetsWrapper__EiTAC"};function L(e){var t=e.favHandler,n={notices:(0,i.v9)(y)}.notices;return(0,d.jsx)("ul",{className:I.list,children:n.length>0?n.map((function(e){return(0,d.jsx)(C,{item:e,favHandler:t},e._id)})):(0,d.jsxs)("div",{className:I.noPetsWrapper,children:[(0,d.jsx)("p",{children:"No pets in your list"}),(0,d.jsx)("img",{src:w,alt:"sad cat",className:I.imgNoPet})]})})}var k={button:"AddPetButton_button__d5mR7 global_lostAndFoundButton__5arGq global_addPetButton__Ai8Wl global_shadow__ECSSe"};function S(){return(0,d.jsx)(h.OL,{className:k.button,to:"/add-pet",children:"Add Pet"})}var Z={title:"NoticesPage_title__oGlUk",container:"NoticesPage_container__56Lm5",navDesktopContainer:"NoticesPage_navDesktopContainer__U4pBL"};function F(){var e=(0,a.useState)(!1),t=(0,s.Z)(e,2),n=t[0],l=t[1],_=(0,c.Z)().isLoggedIn,h=(0,o.UO)().categoryName,m=(0,o.s0)(),g=(0,i.I0)();(0,a.useEffect)((function(){m("/notices/sell")}),[m]),(0,a.useEffect)((function(){"sell"!==h&&"lost-found"!==h&&"in-good-hands"!==h||(g((0,r.r7)({categoryName:h})),m("/notices/".concat(h))),"favorite"===h&&(g((0,r.Y6)()),m("/notices/favorite")),"own"===h&&(g((0,r.hp)()),m("/notices/own"))}),[h,m,g]);return(0,d.jsxs)("div",{className:Z.container,children:[(0,d.jsx)("h1",{className:Z.title,children:"Find your favorite pet"}),(0,d.jsx)(u,{}),(0,d.jsxs)("div",{className:Z.navDesktopContainer,children:[(0,d.jsx)(f,{}),(0,d.jsxs)("div",{className:Z.navRightContainer,children:[(0,d.jsx)(v,{}),(0,d.jsx)(S,{})]})]}),(0,d.jsx)(o.j3,{}),h&&(0,d.jsx)(L,{favHandler:function(e){return _?g((0,r.kd)(e)):l(!0),console.log(n),console.log(e)}})]})}},9604:function(e,t,n){e.exports=n.p+"static/media/WBC_sad_1.1cdd451a59d80ee82d45.jpg"}}]);
//# sourceMappingURL=58.2a302556.chunk.js.map