"use strict";(self.webpackChunkfinal_fullstack_team_proj=self.webpackChunkfinal_fullstack_team_proj||[]).push([[280],{2280:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var a=n(9439),o=n(7689),i=n(2791),s=n(9434),c=n(4066),r=n(7834),l={form:"noticesSearch_form__tvBj8 global_shadow__ECSSe",button:"noticesSearch_button__ff2AQ",iconSearch:"noticesSearch_iconSearch__NQu4Q",iconClose:"noticesSearch_iconClose__qQyFG",input:"noticesSearch_input__ujHU9"},d=n(7609),_=n(3329);function m(){var e=(0,i.useState)(""),t=(0,a.Z)(e,2),n=t[0],r=t[1],m=(0,o.UO)().categoryName,h=(0,s.I0)(),u={categoryName:m,query:n};return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("form",{className:l.form,onSubmit:function(e){e.preventDefault(),h((0,c.r7)(u)),r("")},children:[(0,_.jsx)("input",{className:l.input,onChange:function(e){return r(e.currentTarget.value)},value:n,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search"}),(0,_.jsx)("button",{type:"submit",className:l.button,children:(0,_.jsx)("svg",{width:"24px",height:"24px",className:l.iconSearch,children:(0,_.jsx)("use",{href:d.Z+"#search"})})}),""!==n&&(0,_.jsx)("button",{type:"button",className:l.button,onClick:function(){r("")},children:(0,_.jsx)("svg",{className:l.iconClose,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,_.jsx)("path",{d:"M19 5L5 19M5.00004 5L19 19",stroke:"#FFC107",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}var h=n(1087),u=n(4717),N={button:"NoticesCategoriesNav_button__RYmil global_lostAndFoundButton__5arGq",active:"NoticesCategoriesNav_active__t5djC",container:"NoticesCategoriesNav_container__Z62eL"};function g(){var e=(0,o.TH)(),t=(0,u.Z)().isLoggedIn;return(0,_.jsxs)("nav",{className:N.container,children:[(0,_.jsx)(h.OL,{className:"/notices/sell"===e.pathname?[N.button,N.active].join(" "):N.button,to:"/notices/sell",children:"sell"}),(0,_.jsx)(h.OL,{className:"/notices/lost-found"===e.pathname?[N.button,N.active].join(" "):N.button,to:"/notices/lost-found",children:"lost/found"}),(0,_.jsx)(h.OL,{className:"/notices/in-good-hands"===e.pathname?[N.button,N.active].join(" "):N.button,to:"/notices/in-good-hands",children:"in-good-hands"}),t&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(h.OL,{className:"/notices/favorite"===e.pathname?[N.button,N.active].join(" "):N.button,to:"/notices/favorite",children:"favorite ads"}),(0,_.jsx)(h.OL,{className:"/notices/own"===e.pathname?[N.button,N.active].join(" "):N.button,to:"/notices/own",children:"my ads"})]})]})}function j(){return(0,_.jsx)(_.Fragment,{})}var f={container:"NoticeCategoryItem_container__WGJQ5",wrapper:"NoticeCategoryItem_wrapper__FBXOm",pet_img:"NoticeCategoryItem_pet_img__FHf7I",category:"NoticeCategoryItem_category__1jJaa",fav_btn:"NoticeCategoryItem_fav_btn__8tU2Y",trash_btn:"NoticeCategoryItem_trash_btn__+4myF",infav_btn:"NoticeCategoryItem_infav_btn__NSvHo",info_container:"NoticeCategoryItem_info_container__dExE8",info_item:"NoticeCategoryItem_info_item__x1JqN",svg_info:"NoticeCategoryItem_svg_info__4yFHJ",bottom_container:"NoticeCategoryItem_bottom_container__-dfcO",title:"NoticeCategoryItem_title__WTTHR",learn_btn:"NoticeCategoryItem_learn_btn__c2BbC",learn_svg:"NoticeCategoryItem_learn_svg__DepQq"},v=function(e){var t=e.split("-"),n=(0,a.Z)(t,3),o=n[0],i=n[1],s=n[2],c=parseInt(i,10)-1,r=new Date(s,c,o),l=(new Date-r)/315576e5;return Math.floor(l)},x=function(e){return e.length>5?e.slice(0,4)+"...":e},p=n(5829),b={container:"AttentionModal_container__wyVg3",title:"AttentionModal_title__ehV77",subtitle:"AttentionModal_subtitle__b8n+z",buttons:"AttentionModal_buttons__eo2K0",loginBtn:"AttentionModal_loginBtn__M0PaQ global_desktopButtonWhite__yg5Te global_shadow__ECSSe",icon:"AttentionModal_icon__Uc3Dw",registerBtn:"AttentionModal_registerBtn__EjiH8 global_desktopButtonWhite__yg5Te global_shadow__ECSSe"};function y(){return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:b.container,children:[(0,_.jsx)("p",{className:b.title,children:"Attention"}),(0,_.jsx)("p",{className:b.subtitle,children:"We would like to remind you that certain functionality is available only to authorized users.If you have an account, please log in with your credentials. If you do not already have an account, you must register to access these features."}),(0,_.jsxs)("div",{className:b.buttons,children:[(0,_.jsxs)(h.OL,{className:b.loginBtn,to:"/login",children:["Login",(0,_.jsx)("svg",{className:b.icon,width:24,height:24,children:(0,_.jsx)("use",{href:d.Z+"#pawprint-1"})})]}),(0,_.jsx)(h.OL,{className:b.registerBtn,to:"/register",children:"Register"})]})]})})}var C={container:"NoticeModal_container__X0HhL",noticeCard:"NoticeModal_noticeCard__OAZd7",category:"NoticeModal_category__nI7v5",photo:"NoticeModal_photo__GnWe1",information:"NoticeModal_information__b6qb2",title:"NoticeModal_title__18d06",informationItem:"NoticeModal_informationItem__EcdCm",informationKey:"NoticeModal_informationKey__1NCcn",value:"NoticeModal_value__vjlfp",contactWrap:"NoticeModal_contactWrap__JsQIL",valueLink:"NoticeModal_valueLink__LpXhi",wrap:"NoticeModal_wrap__WXiXm",commentContainer:"NoticeModal_commentContainer__kc3cI",commentKey:"NoticeModal_commentKey__MTJz6",buttons:"NoticeModal_buttons__GrV7d",favoriteBtn:"NoticeModal_favoriteBtn__61hw+ global_desktopButtonBlue__4lkQ4 global_desktopButtonWhite__yg5Te global_shadow__ECSSe global_shadow__ECSSe",heart:"NoticeModal_heart__k1Tys",iconHeart:"NoticeModal_iconHeart__qyAVL",contactLink:"NoticeModal_contactLink__MKmX4 global_desktopButtonWhite__yg5Te global_shadow__ECSSe"};function w(e){var t=e.item,n=e.isFavorite,o=(e.handler,e.isLoggedIn),r=(0,i.useState)(!1),l=(0,a.Z)(r,2),m=l[0],u=l[1],N=(0,s.I0)();if(t){var g=t._id,j=t.category,f=t.title,v=t.name,x=t.date,b=t.type,w=t.imageURL,I=t.comments,k=t.sex,L=t.location,M=t.price,S=t.owner,B=S.email,Z=S.phone,A="tel:".concat(Z),F="mailto:".concat(B),W="sell"===j;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:C.container,children:[(0,_.jsxs)("div",{className:C.noticeCard,children:[(0,_.jsx)("label",{className:C.category,children:j}),(0,_.jsx)("img",{alt:"notice pet avatar",className:C.photo,src:w}),(0,_.jsxs)("div",{className:C.information,children:[(0,_.jsx)("h2",{className:C.title,children:f}),(0,_.jsxs)("div",{className:C.informationItem,children:[(0,_.jsx)("p",{className:C.informationKey,children:"Name:"}),(0,_.jsx)("p",{className:C.value,children:v})]}),(0,_.jsxs)("div",{className:C.informationItem,children:[(0,_.jsx)("p",{className:C.informationKey,children:"Birthday:"}),(0,_.jsx)("p",{className:C.value,children:x})]}),(0,_.jsxs)("div",{className:C.informationItem,children:[(0,_.jsx)("p",{className:C.informationKey,children:"Type:"}),(0,_.jsx)("p",{className:C.value,children:b})]}),(0,_.jsxs)("div",{className:C.informationItem,children:[(0,_.jsx)("p",{className:C.informationKey,children:"Place:"}),(0,_.jsx)("p",{className:C.value,children:L})]}),(0,_.jsxs)("div",{className:C.informationItem,children:[(0,_.jsx)("p",{className:C.informationKey,children:"The sex:"}),(0,_.jsx)("p",{className:C.value,children:k})]}),(0,_.jsxs)("div",{className:C.informationItem,children:[(0,_.jsx)("p",{className:C.informationKey,children:"Email:"}),(0,_.jsx)("div",{className:C.contactWrap,children:(0,_.jsx)(h.rU,{className:C.valueLink,to:F,children:B})})]}),""!==Z&&(0,_.jsxs)("div",{className:C.informationItem,children:[(0,_.jsx)("p",{className:C.informationKey,children:"Phone:"}),(0,_.jsx)("div",{className:C.contactWrap,children:(0,_.jsx)(h.rU,{className:C.valueLink,to:A,children:Z})})]}),W&&(0,_.jsxs)("div",{className:C.informationItem,children:[(0,_.jsx)("p",{className:C.informationKey,children:"Price:"}),(0,_.jsx)("p",{className:C.value,children:M})]})]})]}),(0,_.jsxs)("div",{className:C.wrap,children:[(0,_.jsxs)("div",{className:C.commentContainer,children:[(0,_.jsx)("p",{className:C.commentKey,children:"Comments:"}),I]}),(0,_.jsxs)("div",{className:C.buttons,children:[""===Z?(0,_.jsx)(h.rU,{className:C.contactLink,to:F,children:"Contact"}):(0,_.jsx)(h.rU,{className:C.contactLink,to:A,children:"Contact"}),(0,_.jsxs)("button",{className:C.favoriteBtn,onClick:function(){return e=g,o?N((0,c.kd)(e)):u(!0),console.log(m),console.log(e);var e},isFavorite:n,children:[n?"Added to":"Add to",(0,_.jsx)("svg",{className:C.heart,width:"24",height:"24",children:(0,_.jsx)("use",{className:C.iconHeart,href:d.Z+"#heart"})})]}),m&&(0,_.jsx)(p.Z,{isOpen:m,onClose:function(){u(!1)},children:(0,_.jsx)(y,{})})]})]})]})})}}function I(e){var t=e.item,n=e.favHandler,l=(0,i.useState)(!1),m=(0,a.Z)(l,2),h=m[0],u=m[1],N=t._id,g=t.category,j=t.title,b=t.name,y=t.date,C=t.imageURL,I=t.sex,k=t.location,L=t.owner,M=v(y),S=x(k),B=(0,s.I0)(),Z=(0,r.Z)(),A=Z.user,F=Z.isLoggedIn,W=(0,o.UO)().categoryName,O=function(){if(F)return A.favorite.includes(N)},P=L._id===A.id;return(0,_.jsxs)("li",{className:f.container,children:[(0,_.jsxs)("div",{className:f.wrapper,children:[(0,_.jsx)("img",{className:f.pet_img,src:C,alt:b,width:"300"}),(0,_.jsx)("div",{className:f.category,children:(0,_.jsx)("p",{children:g})}),(0,_.jsx)("div",{children:(0,_.jsx)("button",{className:[f.fav_btn,O()&&[f.infav_btn]].join(" "),type:"button",onClick:function(){return n(N)},children:(0,_.jsx)("svg",{className:f.heart,width:"24",height:"24",children:(0,_.jsx)("use",{href:d.Z+"#heart"})})})}),F&&"own"===W&&P&&(0,_.jsx)("div",{children:(0,_.jsx)("button",{className:f.trash_btn,type:"button",onClick:function(){return e=N,void(F&&B((0,c.gu)(e)));var e},children:(0,_.jsx)("svg",{className:f.trash,width:"24",height:"24",children:(0,_.jsx)("use",{href:d.Z+"#trash-2"})})})}),(0,_.jsxs)("div",{className:f.info_container,children:[(0,_.jsxs)("div",{className:f.info_item,children:[(0,_.jsx)("svg",{className:f.svg_info,width:"24",height:"24",children:(0,_.jsx)("use",{href:d.Z+"#location-1"})}),(0,_.jsx)("p",{children:S})]}),(0,_.jsxs)("div",{className:f.info_item,children:[(0,_.jsx)("svg",{className:f.svg_info,width:"24",height:"24",children:(0,_.jsx)("use",{href:d.Z+"#clock"})}),(0,_.jsxs)("p",{children:[M<1&&"<1 ".concat("min_year"," "),1===M&&"1 ".concat("year"),M>1&&"".concat(M," ","years")]})]}),(0,_.jsxs)("div",{className:f.info_item,children:[(0,_.jsx)("svg",{className:f.svg_info,width:"24",height:"24",children:(0,_.jsx)("use",{href:"male"===I?d.Z+"#male":d.Z+"#female"})}),(0,_.jsx)("p",{children:I})]})]})]}),(0,_.jsxs)("div",{className:f.bottom_container,children:[(0,_.jsx)("h2",{className:f.title,children:j}),h&&(0,_.jsx)(p.Z,{isOpen:h,onClose:function(){return u(!1)},children:(0,_.jsx)(w,{item:t,isFavorite:function(){return O()},handler:n,isLoggedIn:F})}),(0,_.jsxs)("button",{className:f.learn_btn,type:"button",onClick:function(){return u(!0)},children:["Learn More",(0,_.jsx)("svg",{className:f.learn_svg,width:"24",height:"24",children:(0,_.jsx)("use",{href:d.Z+"#pawprint-1"})})]})]})]})}var k=function(e){return e.notices.notices};var L=n(9604),M={list:"NoticesCategoriesList_list__TSyA3",imgNoPet:"NoticesCategoriesList_imgNoPet__KAP8c",noPetsWrapper:"NoticesCategoriesList_noPetsWrapper__EiTAC"};function S(e){var t=e.favHandler,n={notices:(0,s.v9)(k)}.notices;return(0,_.jsx)("ul",{className:M.list,children:n.length>0?n.map((function(e){return(0,_.jsx)(I,{item:e,favHandler:t},e._id)})):(0,_.jsxs)("div",{className:M.noPetsWrapper,children:[(0,_.jsx)("p",{children:"No pets in your list"}),(0,_.jsx)("img",{src:L,alt:"sad cat",className:M.imgNoPet})]})})}var B={button:"AddPetButton_button__d5mR7 global_lostAndFoundButton__5arGq global_addPetButton__Ai8Wl global_shadow__ECSSe"};function Z(){return(0,_.jsx)(h.OL,{className:B.button,to:"/add-pet",children:"Add Pet"})}var A={title:"NoticesPage_title__oGlUk",container:"NoticesPage_container__56Lm5",navDesktopContainer:"NoticesPage_navDesktopContainer__U4pBL"};function F(){var e=(0,i.useState)(!1),t=(0,a.Z)(e,2),n=t[0],l=t[1],d=(0,r.Z)().isLoggedIn,h=(0,o.UO)().categoryName,u=(0,o.s0)(),N=(0,s.I0)();(0,i.useEffect)((function(){u("/notices/sell")}),[u]),(0,i.useEffect)((function(){"sell"!==h&&"lost-found"!==h&&"in-good-hands"!==h||(N((0,c.r7)({categoryName:h})),u("/notices/".concat(h))),"favorite"===h&&(N((0,c.Y6)()),u("/notices/favorite")),"own"===h&&(N((0,c.hp)()),u("/notices/own"))}),[h,u,N]);return(0,_.jsxs)("div",{className:A.container,children:[(0,_.jsx)("h1",{className:A.title,children:"Find your favorite pet"}),(0,_.jsx)(m,{}),(0,_.jsxs)("div",{className:A.navDesktopContainer,children:[(0,_.jsx)(g,{}),(0,_.jsxs)("div",{className:A.navRightContainer,children:[(0,_.jsx)(j,{}),(0,_.jsx)(Z,{})]})]}),(0,_.jsx)(o.j3,{}),h&&(0,_.jsx)(S,{favHandler:function(e){return d?N((0,c.kd)(e)):l(!0),console.log(n),console.log(e)}}),n&&(0,_.jsx)(p.Z,{isOpen:n,onClose:function(){l(!1)},children:(0,_.jsx)(y,{})})]})}},9604:function(e,t,n){e.exports=n.p+"static/media/WBC_sad_1.1cdd451a59d80ee82d45.jpg"}}]);
//# sourceMappingURL=280.1ec0a96b.chunk.js.map