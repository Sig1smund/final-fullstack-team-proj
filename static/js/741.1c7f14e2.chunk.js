"use strict";(self.webpackChunkfinal_fullstack_team_proj=self.webpackChunkfinal_fullstack_team_proj||[]).push([[741],{5661:function(e,a,s){s.r(a),s.d(a,{default:function(){return Z}});var t=s(9439),n=s(2791),r=s(9434),i={container:"UserPage_container__qulzD",userContainer:"UserPage_userContainer__JJojP",title:"UserPage_title__CPvgT",iconEditButton:"UserPage_iconEditButton__8gUsY",iconEdit:"UserPage_iconEdit__qHQrI",iconCross:"UserPage_iconCross__1Qp+U",bg:"UserPage_bg__-KDn7"},o=s(7609);var l=s.p+"static/media/cross-small.f651fc886fa4d31a3c8de6c31d316c5d.svg",c=s(4942),p=s(1413),d=s(5861),m=s(4687),_=s.n(m),u=s(9273),h={userCard:"UserForm_userCard__uNoO8 global_shadow__ECSSe",form:"UserForm_form__Rtz4A",userInfoWrapper:"UserForm_userInfoWrapper__F+hWD",inputWrapper:"UserForm_inputWrapper__DeOXH",inputTitle:"UserForm_inputTitle__5iXcX",input:"UserForm_input__qGgJS",LogOutBtn:"UserForm_LogOutBtn__fpCNn",iconLogOut:"UserForm_iconLogOut__rTwlR",avatarWrapper:"UserForm_avatarWrapper__SMEM8",avatar:"UserForm_avatar__Uh3mB",photoWrapper:"UserForm_photoWrapper__RnWw8",editPhotoContainer:"UserForm_editPhotoContainer__tfOMD",iconWrapperCheck:"UserForm_iconWrapperCheck__+A5TU",iconWrapperCross:"UserForm_iconWrapperCross__6TA+y",cameraIcon:"UserForm_cameraIcon__UuUAh",btnEdit:"UserForm_btnEdit__Wsx6+",avatarWrapperRead:"UserForm_avatarWrapperRead__xHx-x",avatarReadonlyON:"UserForm_avatarReadonlyON__fViiL",btnDual:"UserForm_btnDual__CZLPH",btnConfirm:"UserForm_btnConfirm__15T9l",iconCheck:"UserForm_iconCheck__ZC3sK",iconCross:"UserForm_iconCross__0lJoC",iconCamera:"UserForm_iconCamera__ChUw+",saveBtn:"UserForm_saveBtn__qr0j0",saveBtnWrapper:"UserForm_saveBtnWrapper__Nq-es",infoWrapper:"UserForm_infoWrapper__N19OM"};var f=s.p+"static/media/Photo default.2c9afb5dfcbe695b9150f927616a01aa.svg";var x=s.p+"static/media/logout.8790af7bde245471313fc2a3bdb4b2da.svg";var j=s.p+"static/media/x.5dd3f0eff02fbbdf8c42d6a6e00740b9.svg";var g=s.p+"static/media/check.9871830bc0257fd7ceaaf4c5ddc7ce47.svg",v=s(5829),N=s(6056),b=s(3329),C={name:"",email:"",birthday:"",phone:"",city:""};function y(e){var a=e.onSubmit,s=e.readonly,i=e.user,l=e.saveNewPhoto,m=(0,n.useState)(i||C),y=(0,t.Z)(m,2),U=y[0],W=y[1],P=(0,n.useState)(i.avatarURL||""),I=(0,t.Z)(P,2),F=I[0],k=I[1],T=(0,n.useState)(!1),B=(0,t.Z)(T,2),L=B[0],w=B[1],O=(0,r.I0)(),Z=function(){w(!1)},S=function(){var e=(0,d.Z)(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O((0,u.ni)());case 2:w(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var a=e.target,s=a.name,t=a.value;W((function(e){return(0,p.Z)((0,p.Z)({},e),{},(0,c.Z)({},s,t))}))},D=(0,n.useRef)();return(0,b.jsx)("div",{className:h.userCard,children:(0,b.jsx)("form",{className:h.form,onSubmit:function(e){e.preventDefault();var s=U.name,t=U.email,n=U.phone,r=U.birthday,i=U.city,o=new FormData;o.append("avatarURL",F),o.append("name",s),o.append("email",t),o.append("phone",n),o.append("birthday",r),o.append("city",i),console.log("FormData",o),a(o)},children:(0,b.jsxs)("div",{className:h.userInfoWrapper,children:[(0,b.jsxs)("div",{className:h.avatarWrapper,children:[F?(0,b.jsx)("img",{src:F,className:[h.avatar,s?h.avatarReadonlyON:""].join(" "),alt:"profile"}):(0,b.jsx)("img",{src:f,className:[h.avatar,s?h.avatarReadonlyON:""].join(" "),alt:"avatar"}),(0,b.jsx)("input",{type:"file",accept:"image/*, .png, .jpg, .gif, .web",ref:D,onChange:function(e){var a=e.target.files[0];if(a.size>3145728)alert("Wrong size");else{var s=URL.createObjectURL(a);console.log("newAvatar"),k(s)}},style:{display:"none"}}),!s&&(F?(0,b.jsxs)("div",{className:h.btnDual,children:[(0,b.jsx)("button",{type:"button",className:h.btnConfirm,onClick:function(){l(F)},children:(0,b.jsx)("img",{src:g,className:h.iconCheck,alt:"check"})}),(0,b.jsx)("p",{children:"Confirm"}),(0,b.jsx)("button",{type:"button",onClick:function(){k(null)},className:h.btnConfirm,children:(0,b.jsx)("img",{src:j,className:h.iconCross,alt:"cross"})})]}):(0,b.jsxs)("button",{type:"button",className:h.btnEdit,onClick:function(){D.current.click()},children:[(0,b.jsx)("svg",{width:"24px",height:"24px",className:h.iconCamera,children:(0,b.jsx)("use",{href:o.Z+"#camera"})}),"Edit photo"]}))]}),(0,b.jsxs)("div",{className:h.userInfo,children:[(0,b.jsxs)("div",{className:h.infoWrapper,children:[(0,b.jsxs)("div",{className:h.inputWrapper,children:[(0,b.jsx)("p",{className:h.inputTitle,children:"Name:"}),(0,b.jsx)("input",{type:"text",name:"name",value:U.name,required:!0,className:h.input,onChange:E,readOnly:s})]}),(0,b.jsxs)("div",{className:h.inputWrapper,children:[(0,b.jsx)("p",{className:h.inputTitle,children:"Email:"}),(0,b.jsx)("input",{type:"email",value:U.email,name:"email",required:!0,className:h.input,onChange:E,readOnly:s})]}),(0,b.jsxs)("div",{className:h.inputWrapper,children:[(0,b.jsx)("p",{className:h.inputTitle,children:"Birthday:"}),(0,b.jsx)("input",{type:"text",value:U.birthday,name:"birthday",required:!0,className:h.input,placeholder:"00.00.0000",pattern:"/^\\d{1,2}\\-\\d{1,2}\\-\\d{4}$/",onChange:E,readOnly:s})]}),(0,b.jsxs)("div",{className:h.inputWrapper,children:[(0,b.jsx)("p",{className:h.inputTitle,children:"Phone:"}),(0,b.jsx)("input",{type:"tel",value:U.phone,name:"phone",className:h.input,placeholder:"+380000000000",pattern:"/^\\+\\d{12}$/\\",onChange:E,readOnly:s})]}),(0,b.jsxs)("div",{className:h.inputWrapper,children:[(0,b.jsx)("p",{className:h.inputTitle,children:"City:"}),(0,b.jsx)("input",{type:"text",value:U.city,name:"city",required:!0,className:h.input,placeholder:"Kiev",onChange:E,readOnly:s})]})]}),s?(0,b.jsxs)("button",{type:"button",className:h.LogOutBtn,onClick:function(){w(!0)},children:[(0,b.jsx)("img",{src:x,className:h.iconLogOut,alt:"logout"}),"Log Out"]}):(0,b.jsx)("div",{className:h.saveBtnWrapper,children:(0,b.jsx)("button",{className:h.saveBtn,children:"Save"})}),L&&(0,b.jsx)(v.Z,{isOpen:L,onClose:Z,children:(0,b.jsx)(N.Z,{logo:"#logout",close:Z,action:S,children:"Already leaving?"})})]})]})})})}var U={petsList:"PetList_petsList__bl+kb",imgNoPet:"PetList_imgNoPet__GMiLo",noPetsWrapper:"PetList_noPetsWrapper__1pzId"},W={petsItemWrapper:"PetsItem_petsItemWrapper__atzbH global_shadow__ECSSe",petInfoWrapper:"PetsItem_petInfoWrapper__O8o7Y",petsImg:"PetsItem_petsImg__xU3HT",petInfo:"PetsItem_petInfo__7HhIE",petInfoBtn:"PetsItem_petInfoBtn__-r3Lk",btnTrash:"PetsItem_btnTrash__MA55j",info:"PetsItem_info__02lDb",modalTitle:"PetsItem_modalTitle__6AhKg",modalText:"PetsItem_modalText__qPuWH"};function P(e){var a=e.pet,s=(0,n.useState)(!1),i=(0,t.Z)(s,2),l=i[0],c=i[1],p=(0,r.I0)(),d=function(){c(!0)},m=function(){c(!1)};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("li",{className:W.petsItemWrapper,children:[(0,b.jsx)("img",{src:a.imageURL,alt:a.name,className:W.petsImg}),(0,b.jsxs)("div",{className:W.petInfoWrapper,children:[(0,b.jsxs)("div",{className:W.petInfoBtn,children:[" Name: ",a.name,(0,b.jsx)("button",{type:"button",onClick:d,className:W.btnTrash,children:(0,b.jsx)("svg",{width:"24",height:"24",children:(0,b.jsx)("use",{href:o.Z+"#trash-2"})})})]}),(0,b.jsxs)("p",{className:W.petInfo,children:["Date of birth: ",a.date]}),(0,b.jsxs)("p",{className:W.petInfo,children:["Type: ",a.type]}),(0,b.jsxs)("p",{className:W.petInfo,children:["Comments: ",a.comments]})]}),l&&(0,b.jsx)(v.Z,{isOpen:d,onClose:m,children:(0,b.jsx)(N.Z,{close:m,id:a._id,action:function(e){p((0,u.on)(e)),c(!1)},logo:"#trash-2",children:(0,b.jsxs)("div",{className:W.modalText,children:[(0,b.jsxs)("div",{className:W.modalTitle,children:[(0,b.jsx)("div",{children:"Delete"})," ",(0,b.jsx)("div",{children:"adverstiment?"})," "]}),"Are you sure you want to delete ",(0,b.jsxs)("b",{children:["\u201c",a.name,"\u201d"]}),"?",(0,b.jsx)("br",{}),"You can`t undo this action."]})})})]},a._id)})}var I=s.p+"static/media/WBC_sad_1.1cdd451a59d80ee82d45.jpg",F=s(4217);function k(){var e=(0,r.v9)(F.MF);return(0,b.jsx)(b.Fragment,{children:e.length<=0?(0,b.jsxs)("div",{className:U.noPetsWrapper,children:[(0,b.jsx)("p",{children:"No pets in your list"}),(0,b.jsx)("img",{src:I,alt:"sad cat",className:U.imgNoPet})]}):(0,b.jsx)("div",{children:(0,b.jsx)("ul",{className:U.petsList,children:e.map((function(e){return(0,b.jsx)(P,{pet:e},e._id)}))})})})}var T={petsListWrapper:"PetsData_petsListWrapper__+sxfq",title:"PetsData_title__c2IAB"};function B(){return(0,b.jsxs)("div",{className:T.petsListWrapper,children:[(0,b.jsx)("h2",{className:T.title,children:"My pets:"}),(0,b.jsx)(k,{})]})}var L={container:"ModalCongrats_container__imJVN",title:"ModalCongrats_title__2iwph",subtitle:"ModalCongrats_subtitle__dxeLz",goToProfileBtn:"ModalCongrats_goToProfileBtn__tIUiP global_desktopButtonBlue__4lkQ4 global_desktopButtonWhite__yg5Te global_shadow__ECSSe global_shadow__ECSSe",logo:"ModalCongrats_logo__WjwdV"};function w(e){var a=e.onClose;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:L.container,children:[(0,b.jsx)("p",{className:L.title,children:"Congrats!"}),(0,b.jsx)("p",{className:L.subtitle,children:"Your registration is success"}),(0,b.jsxs)("button",{type:"button",className:L.goToProfileBtn,onClick:function(){a()},children:["Go to profile",(0,b.jsx)("svg",{className:L.logo,width:"24",height:"24",children:(0,b.jsx)("use",{href:o.Z+"#pawprint-1"})})]})]})})}var O=s(3541);function Z(){var e=(0,n.useState)(!0),a=(0,t.Z)(e,2),s=a[0],c=a[1],p=(0,r.v9)(F.dy),d=(0,r.I0)(),m=function(){c((function(e){return!e}))},_=(0,r.v9)(F.fX),h=(0,n.useState)(_),f=(0,t.Z)(h,2),x=f[0],j=f[1];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:i.bg,children:(0,b.jsxs)("div",{className:i.container,children:[(0,b.jsxs)("div",{className:i.userContainer,children:[(0,b.jsx)("h2",{className:i.title,children:"My information:"}),s?(0,b.jsx)("button",{className:i.iconEditButton,onClick:m,children:(0,b.jsx)("svg",{width:"24",height:"24",className:i.iconEdit,children:(0,b.jsx)("use",{href:o.Z+"#edit-2"})})}):(0,b.jsx)("button",{className:i.iconEditButton,onClick:m,children:(0,b.jsx)("img",{src:l,alt:"cross icon",className:i.iconCross})}),s?(0,b.jsx)(y,{readonly:!0,user:p}):(0,b.jsx)(y,{readonly:!1,user:p,saveNewPhoto:function(e){console.log(e),(new FormData).append("userAvatar",e)},onSubmit:function(e){d((0,u.Nq)(e)),m(),console.log(e)}})]}),(0,b.jsx)(B,{})]})}),_&&(0,b.jsx)(v.Z,{isOpen:x,onClose:function(){j(!1)},children:(0,b.jsx)(w,{onClose:function(){j(!1),d((0,O.m)(!1))}})})]})}}}]);
//# sourceMappingURL=741.1c7f14e2.chunk.js.map